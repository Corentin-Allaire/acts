language: cpp

#os:
  #- osx

#osx_image: xcode10.2

#compiler:
  #- clang

matrix:
  include:
    - os: osx
      osx_image: xcode10.2
      before_install:
        - brew install eigen
    - os: linux
      addons:
        apt:
          update: true
          sources:
            - sourceline: 'ppa:mhier/libboost-latest'
            - ubuntu-toolchain-r-test
          packages:
            - libeigen3-dev
            - boost1.67
            - cmake
            - g++-7



#before_install:
  #- if [ "$TRAVIS_OS_NAME" = "osx" ]; then brew update          ; fi
  #- if [ "$TRAVIS_OS_NAME" = "osx" ]; then brew install eigen ; fi

script:
  - mkdir build && cd build
  - cmake .. -DCMAKE_CXX_FLAGS="-std=c++17" -DACTS_BUILD_EXAMPLES=on -DACTS_BUILD_TESTS=on -DACTS_BUILD_INTEGRATION_TESTS=on -DACTS_BUILD_DIGITIZATION_PLUGIN=on -DACTS_BUILD_IDENTIFICATION_PLUGIN=on -DACTS_BUILD_JSON_PLUGIN=on -DACTS_BUILD_LEGACY=on
  - VERBOSE=1 make -j$(nproc)




